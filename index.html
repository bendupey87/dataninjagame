<!doctype html>
<html>
<head>
<script type="module">
import { setThemeFromStorage } from './src/js/theme.js';
setThemeFromStorage();
</script>
<link rel="stylesheet" href="src/css/main.css">
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Data Ninja â€” Level 1</title>
  <link rel="stylesheet" href="https://unpkg.com/codemirror@5.65.16/lib/codemirror.css">
  <link rel="stylesheet" href="https://unpkg.com/codemirror@5.65.16/theme/material-darker.css">
  <link rel="stylesheet" href="https://unpkg.com/codemirror@5.65.16/theme/neo.css">
  <link rel="stylesheet" href="https://unpkg.com/codemirror@5.65.16/addon/hint/show-hint.css">
  <script src="https://unpkg.com/codemirror@5.65.16/lib/codemirror.js"></script>
  <script src="https://unpkg.com/codemirror@5.65.16/mode/python/python.js"></script>
  <script src="https://unpkg.com/codemirror@5.65.16/addon/edit/matchbrackets.js"></script>
  <script src="https://unpkg.com/codemirror@5.65.16/addon/hint/show-hint.js"></script>
</head>
<body>
  <div id="ninjaBanner">
  <img src="assets/ninja.png" id="ninjaLogo" alt="Ninja" />
</div>
<header>
  <div>ðŸ¥· <strong>Data Ninja â€” Level 1</strong></div>
  <div class="pill" id="status">Loading Pythonâ€¦</div>
  <div class="pill">v1.0</div>
</header>

<div id="welcomeOverlay">
  <div id="welcomeBox" class="panel">
    <h1>ðŸ¥‹ Welcome to your coding kata!</h1>
    <p><strong>You have 20 minutes to complete this activity.</strong></p>
    <p>If your time runs out, your score will be submitted automatically.</p>
    <p>
      <span style="color:var(--accent-soft);font-weight:600;">
        You may only use the resources linked at the top of the activity.<br>
        <span style="font-size:13px;">(No AI assistants or LLMs allowed!)</span>
      </span>
    </p>
    <p style="margin-top:12px;font-size:15px;font-weight:700;">Good luck!</p>
    <div class="row" style="margin:16px 0">
      <div style="flex:1">
        <label for="secretCode">Secret code</label>
        <input id="secretCode" placeholder="XXXX-XXXX" />
      </div>
    </div>
    <div id="welcomeActions">
      <button id="dismissWelcome" class="primary" type="button">Begin Training â–¶</button>
    </div>
  </div>
</div>

<main>
  <!-- STATUS / TIMER -->
  <section class="panel" id="student-panel">
    <h2>
      Status
      <button id="themeToggle" class="ghost" style="margin-left:8px">Light mode</button>
    </h2>

    <div class="row">
      <div style="flex:1">
        <label>Score</label>
        <div class="statBox">
          <span id="scoreNow" class="score">0</span>/<span class="score" id="scoreMax">14</span>
        </div>
      </div>
      <div style="flex:1">
        <label>Timer</label>
        <div class="statBox warn">
          <span id="timer">20:00</span>
        </div>
      </div>
    </div>

    <!-- Reset + docs row -->
    <div class="status-actions">
      <button id="submitBtn" class="primary">Submit score</button>
      <div class="docLinks" aria-label="Reference documentation">
        <div class="docs-note">Only these resources are allowed for this assignment:</div>
        <a href="https://pandas.pydata.org/docs/" target="_blank" rel="noopener">pandas docs</a>
        <a href="https://matplotlib.org/stable/" target="_blank" rel="noopener">matplotlib docs</a>
        <a href="https://docs.python.org/3/" target="_blank" rel="noopener">python docs</a>
        <a href="https://numpy.org/doc/stable/" target="_blank" rel="noopener">NumPy docs</a>
      </div>
    </div>
  </section>
</main>

  <!-- MISSIONS -->
  <section class="panel">
    <h2>MISSIONS</h2>

<details class="missionCard" id="card-m1" open>
  <summary>1) Load the CSV <span class="pill" id="pill-m1">In progress</span></summary>
  <div class="missionHeader">
    <div class="missionText">
      Read the CSV into a DataFrame named <code>df</code> and print a preview.<br>
      <span style="font-size:12px;color:var(--muted)">
        Dataset path inside Python: <code>/tmp/mystic_coffee_sales.csv</code>
      </span>
    </div>
    <div class="missionActions">
      <button class="primary" data-run="m1">Run â–¶</button>
      <button data-check="m1">Check âœ…</button>
    </div>
  </div>
  <textarea id="code-m1"></textarea>
  <div id="nb-m1" class="nb-output" style="display:none"></div>
  <div id="nb-m1" class="nbOut"></div>
  <img id="plot-m1" class="plot" alt="plot m1"/>
</details>

    <details class="missionCard" id="card-m2">
      <summary>2) Parse dates <span class="pill" id="pill-m2">Locked</span></summary>
      <div class="missionHeader">
        <div class="missionText">Convert column <code>date</code> to datetime in <code>df</code>.</div>
        <div class="missionActions">
          <button class="primary" data-run="m2">Run â–¶</button>
          <button data-check="m2">Check âœ…</button>
        </div>
      </div>
      <textarea id="code-m2"></textarea>
      <div id="nb-m2" class="nb-output" style="display:none"></div>
      <img id="plot-m2" class="plot" alt="plot m2"/>
    </details>

    <details class="missionCard" id="card-m3">
      <summary>3) Create month feature <span class="pill" id="pill-m3">Locked</span></summary>
      <div class="missionHeader">
        <div class="missionText">Create <code>df['month']</code> from <code>df['date']</code> using monthly periods.</div>
        <div class="missionActions">
          <button class="primary" data-run="m3">Run â–¶</button>
          <button data-check="m3">Check âœ…</button>
        </div>
      </div>
      <textarea id="code-m3"></textarea>
      <div id="nb-m3" class="nb-output" style="display:none"></div>
      <img id="plot-m3" class="plot" alt="plot m3"/>
    </details>

    <details class="missionCard" id="card-m4">
      <summary>4) Group totals <span class="pill" id="pill-m4">Locked</span></summary>
      <div class="missionHeader">
        <div class="missionText">Compute total revenue by drink in a variable <code>totals</code>.</div>
        <div class="missionActions">
          <button class="primary" data-run="m4">Run â–¶</button>
          <button data-check="m4">Check âœ…</button>
        </div>
      </div>
      <textarea id="code-m4"></textarea>
      <div id="nb-m4" class="nb-output" style="display:none"></div>
      <img id="plot-m4" class="plot" alt="plot m4"/>
    </details>

    <details class="missionCard" id="card-m5">
      <summary>5) Plot top-5 <span class="pill" id="pill-m5">Locked</span></summary>
      <div class="missionHeader">
        <div class="missionText">Plot the top 5 drinks by revenue (matplotlib) and call <code>plt.show()</code>.</div>
        <div class="missionActions">
          <button class="primary" data-run="m5">Run â–¶</button>
          <button data-check="m5">Check âœ…</button>
        </div>
      </div>
      <textarea id="code-m5"></textarea>
      <div id="nb-m5" class="nb-output" style="display:none"></div>
      <img id="plot-m5" class="plot" alt="plot m5"/>
    </details>

  </section>
</main>
<div class="fx-layer" id="fx-layer"></div>
<script type="module" src="src/js/main.js"></script>
</body>
</html>
